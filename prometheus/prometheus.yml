global:
  scrape_interval:     15s
  evaluation_interval: 15s

  # Attach these labels to any time series or alerts when communicating with
  # external systems (federation, remote storage, Alertmanager).
  external_labels:
      monitor: 'docker-host-alpha'

# Load and evaluate rules in this file every 'evaluation_interval' seconds.
rule_files:
  - "alert.rules"

# A scrape configuration containing exactly one endpoint to scrape.
scrape_configs:
  - job_name: 'nodeexporter'
    scrape_interval: 5s
    static_configs:
      - targets: ['nodeexporter:9100']

  - job_name: 'cadvisor'
    scrape_interval: 5s
    static_configs:
      - targets: ['cadvisor:8080']

  - job_name: 'prometheus'
    scrape_interval: 10s
    static_configs:
      - targets: ['localhost:9090']

  - job_name: 'pushgateway'
    scrape_interval: 10s
    honor_labels: true
    static_configs:
      - targets: ['pushgateway:9091']

  - job_name: 'broker'
    file_sd_configs:
    - files:
      - 'targets.json'
      
  # - job_name: 'fluentd'
  #   scrape_interval: 10s
  #   static_configs:
  #     - targets:
  #       - '10.0.3.65:9000'

  - job_name: 'fluentbit'
    scrape_interval: 10s
    metrics_path: /api/v1/metrics/prometheus
    static_configs:
      - targets:
        - '10.0.1.6:9000'
        - '10.0.2.8:9000'
        - '10.0.3.134:9000'
        - '10.0.3.8:9000'
        - '10.0.1.102:9000'
        - '10.0.1.118:9000'
        - '10.0.3.110:9000'
        - '10.0.2.224:9000'
        - '10.0.2.251:9000'
        - '10.0.2.22:9000'
        - '10.0.1.168:9000'
        - '10.0.3.34:9000'
        - '10.0.1.174:9000'
        - '10.0.3.52:9000'
        - '10.0.2.163:9000'
        - '10.0.3.176:9000'
        - '10.0.2.240:9000'
        - '10.0.1.162:9000'
        - '10.0.2.52:9000'
        - '10.0.3.244:9000'
        - '10.0.2.69:9000'
        - '10.0.3.50:9000'
        - '10.0.1.179:9000'
        - '10.0.1.199:9000'
        - '10.0.2.65:9000'
        - '10.0.3.73:9000'
        - '10.0.1.106:9000'
        - '10.0.2.207:9000'
        - '10.0.2.190:9000'
        - '10.0.3.91:9000'
        - '10.0.1.170:9000'
        - '10.0.3.203:9000'
        - '10.0.1.33:9000'
        - '10.0.1.113:9000'
        - '10.0.2.242:9000'
        - '10.0.1.236:9000'
        - '10.0.2.93:9000'
        - '10.0.3.115:9000'
        - '10.0.3.221:9000'
        - '10.0.2.198:9000'
        - '10.0.3.78:9000'
        - '10.0.1.57:9000'
        - '10.0.3.5:9000'
        - '10.0.3.87:9000'
        - '10.0.1.8:9000'
        - '10.0.2.82:9000'
        - '10.0.3.125:9000'
        - '10.0.2.98:9000'
        - '10.0.1.36:9000'
        - '10.0.1.220:9000'
        - '10.0.1.26:9000'
        - '10.0.3.83:9000'
        - '10.0.2.4:9000'
        - '10.0.3.158:9000'
        - '10.0.2.141:9000'
        - '10.0.3.40:9000'
        - '10.0.1.221:9000'
        - '10.0.2.39:9000'
        - '10.0.1.108:9000'
        - '10.0.1.125:9000'
        - '10.0.2.210:9000'
        - '10.0.3.229:9000'
        - '10.0.2.84:9000'
        - '10.0.3.28:9000'
        - '10.0.2.202:9000'
        - '10.0.1.126:9000'
        - '10.0.1.246:9000'
        - '10.0.2.92:9000'
        - '10.0.3.69:9000'
        - '10.0.3.148:9000'
        - '10.0.1.238:9000'
        - '10.0.3.99:9000'
        - '10.0.2.34:9000'
        - '10.0.3.160:9000'
        - '10.0.1.103:9000'
        - '10.0.2.115:9000'
        - '10.0.1.240:9000'
        - '10.0.3.234:9000'
        - '10.0.2.196:9000'
        - '10.0.3.195:9000'
        - '10.0.1.47:9000'
        - '10.0.2.157:9000'
        - '10.0.3.41:9000'
        - '10.0.1.120:9000'
        - '10.0.2.205:9000'
        - '10.0.3.66:9000'
        - '10.0.1.124:9000'
        - '10.0.2.250:9000'
        - '10.0.2.252:9000'
        - '10.0.3.254:9000'
        - '10.0.1.247:9000'
        - '10.0.3.122:9000'
        - '10.0.3.75:9000'
        - '10.0.1.58:9000'
        - '10.0.1.214:9000'
        - '10.0.2.254:9000'
        - '10.0.1.241:9000'
        - '10.0.2.232:9000'
        - '10.0.3.162:9000'
        - '10.0.2.64:9000'
        - '10.0.2.100:9000'
        - '10.0.3.135:9000'
        - '10.0.1.150:9000'
        - '10.0.3.238:9000'
        - '10.0.3.226:9000'
        - '10.0.1.203:9000'
        - '10.0.2.28:9000'
        - '10.0.2.67:9000'
        - '10.0.3.56:9000'
        - '10.0.1.99:9000'
        - '10.0.1.248:9000'
        - '10.0.1.156:9000'
        - '10.0.2.7:9000'
        - '10.0.3.59:9000'
        - '10.0.2.165:9000'
        - '10.0.2.137:9000'
        - '10.0.3.23:9000'
        - '10.0.1.226:9000'
        - '10.0.3.251:9000'
        - '10.0.1.235:9000'
        - '10.0.1.64:9000'
        - '10.0.2.117:9000'
        - '10.0.2.43:9000'
        - '10.0.1.13:9000'
        - '10.0.2.241:9000'
        - '10.0.3.185:9000'
        - '10.0.2.106:9000'
        - '10.0.1.7:9000'
        - '10.0.3.242:9000'
        - '10.0.3.170:9000'
        - '10.0.3.172:9000'
        - '10.0.1.154:9000'
        - '10.0.2.159:9000'
        - '10.0.3.63:9000'
        - '10.0.1.143:9000'
        - '10.0.1.53:9000'
        - '10.0.2.247:9000'
        - '10.0.1.186:9000'
        - '10.0.2.114:9000'
        - '10.0.2.231:9000'
        - '10.0.3.106:9000'
        - '10.0.1.109:9000'
        - '10.0.3.104:9000'
        - '10.0.2.171:9000'
        - '10.0.3.92:9000'
        - '10.0.2.55:9000'
        - '10.0.1.181:9000'
        - '10.0.3.82:9000'
        - '10.0.3.188:9000'
        - '10.0.3.187:9000'
        - '10.0.1.134:9000'
        - '10.0.2.87:9000'
        - '10.0.1.49:9000'
        - '10.0.3.178:9000'
        - '10.0.1.229:9000'
        - '10.0.2.189:9000'
        - '10.0.2.166:9000'
        - '10.0.1.42:9000'
        - '10.0.3.166:9000'
        - '10.0.2.89:9000'
        - '10.0.3.70:9000'
        - '10.0.1.75:9000'
        - '10.0.2.132:9000'
        - '10.0.1.146:9000'
        - '10.0.1.83:9000'
        - '10.0.2.168:9000'
        - '10.0.3.33:9000'
        - '10.0.2.5:9000'
        - '10.0.3.177:9000'
        - '10.0.2.24:9000'
        - '10.0.1.219:9000'
        - '10.0.1.43:9000'
        - '10.0.2.47:9000'
        - '10.0.3.31:9000'
        - '10.0.3.138:9000'
        - '10.0.3.232:9000'
        - '10.0.2.139:9000'
        - '10.0.1.173:9000'
        - '10.0.3.136:9000'
        - '10.0.3.39:9000'
        - '10.0.2.85:9000'
        - '10.0.1.80:9000'
        - '10.0.2.118:9000'
        - '10.0.1.152:9000'
        - '10.0.1.18:9000'
        - '10.0.3.36:9000'
        - '10.0.1.159:9000'
        - '10.0.2.38:9000'
        - '10.0.3.218:9000'
        - '10.0.2.230:9000'
        - '10.0.1.121:9000'
        - '10.0.2.37:9000'
        - '10.0.3.169:9000'
        - '10.0.3.217:9000'
        - '10.0.3.74:9000'
        - '10.0.1.104:9000'
        - '10.0.2.179:9000'
        - '10.0.1.169:9000'
        - '10.0.3.11:9000'
        - '10.0.2.182:9000'
        - '10.0.2.225:9000'
        - '10.0.1.196:9000'
        - '10.0.3.48:9000'
        - '10.0.2.101:9000'
        - '10.0.1.177:9000'
        - '10.0.2.70:9000'
        - '10.0.1.195:9000'
        - '10.0.3.201:9000'
        - '10.0.1.100:9000'
        - '10.0.3.117:9000'
        - '10.0.2.172:9000'
        - '10.0.3.175:9000'
        - '10.0.3.93:9000'
        - '10.0.2.27:9000'
        - '10.0.2.160:9000'
        - '10.0.1.55:9000'
        - '10.0.1.71:9000'
        - '10.0.2.233:9000'
        - '10.0.3.105:9000'
        - '10.0.1.67:9000'
        - '10.0.1.88:9000'
        - '10.0.3.196:9000'
        - '10.0.2.235:9000'
        - '10.0.2.211:9000'
        - '10.0.3.220:9000'
        - '10.0.1.101:9000'
        - '10.0.3.27:9000'
        - '10.0.1.105:9000'
        - '10.0.3.168:9000'
        - '10.0.2.219:9000'
        - '10.0.2.236:9000'
        - '10.0.2.173:9000'
        - '10.0.1.178:9000'
        - '10.0.3.13:9000'
        - '10.0.1.115:9000'
        - '10.0.3.20:9000'
        - '10.0.2.130:9000'
        - '10.0.1.202:9000'
        - '10.0.2.25:9000'
        - '10.0.2.187:9000'
        - '10.0.3.94:9000'
        - '10.0.1.149:9000'
        - '10.0.1.171:9000'
        - '10.0.2.197:9000'
        - '10.0.1.40:9000'
        - '10.0.3.119:9000'
        - '10.0.2.220:9000'
        - '10.0.3.202:9000'
        - '10.0.1.44:9000'
        - '10.0.3.80:9000'
        - '10.0.3.186:9000'
        - '10.0.2.194:9000'
        - '10.0.1.160:9000'
        - '10.0.2.86:9000'
        - '10.0.2.122:9000'
        - '10.0.1.237:9000'
        - '10.0.3.147:9000'
        - '10.0.1.29:9000'
        - '10.0.3.85:9000'
        - '10.0.1.187:9000'
        - '10.0.2.57:9000'
        - '10.0.2.58:9000'
        - '10.0.1.194:9000'
        - '10.0.3.208:9000'
        - '10.0.3.211:9000'
        - '10.0.2.71:9000'
        - '10.0.1.91:9000'
        - '10.0.3.108:9000'
        - '10.0.2.253:9000'
        - '10.0.3.184:9000'
        - '10.0.3.231:9000'
        - '10.0.1.157:9000'
        - '10.0.3.141:9000'
        - '10.0.1.41:9000'
        - '10.0.1.188:9000'
        - '10.0.2.181:9000'
        - '10.0.1.215:9000'
        - '10.0.2.138:9000'
        - '10.0.3.111:9000'
        - '10.0.2.148:9000'
        - '10.0.2.17:9000'
        - '10.0.1.231:9000'
        - '10.0.3.90:9000'
        - '10.0.3.49:9000'
        - '10.0.1.141:9000'
        - '10.0.2.61:9000'
        - '10.0.1.85:9000'
        - '10.0.2.228:9000'
        - '10.0.1.84:9000'
        - '10.0.3.84:9000'
        - '10.0.3.133:9000'
        - '10.0.3.230:9000'
        - '10.0.1.244:9000'
        - '10.0.2.226:9000'
        - '10.0.2.81:9000'
        - '10.0.2.146:9000'
        - '10.0.3.68:9000'
        - '10.0.1.74:9000'
        - '10.0.3.30:9000'
        - '10.0.1.155:9000'

  # - job_name: 'kafkaconsumer'
  #   scrape_interval: 10s
  #   static_configs:
  #     - targets:
  #       - '10.0.0.19:9500'

alerting:
  alertmanagers:
  - scheme: http
    static_configs:
    - targets: 
      - 'alertmanager:9093'

#  - job_name: 'nginx'
#    scrape_interval: 10s
#    static_configs:
#      - targets: ['nginxexporter:9113']

#  - job_name: 'aspnetcore'
#    scrape_interval: 10s
#    static_configs:
#      - targets: ['eventlog-proxy:5000', 'eventlog:5000']
